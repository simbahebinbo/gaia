"use strict";(self.webpackChunkcosmos_hub_docs_site=self.webpackChunkcosmos_hub_docs_site||[]).push([[9167],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=o.createContext({}),l=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return o.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(n),m=a,f=d["".concat(p,".").concat(m)]||d[m]||u[m]||r;return n?o.createElement(f,i(i({ref:t},c),{},{components:n})):o.createElement(f,i({ref:t},c))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[d]="string"==typeof e?e:a,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6591:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var o=n(7462),a=(n(7294),n(3905));const r={title:"Metaprotocol Support",order:!1,parent:{order:2}},i=void 0,s={unversionedId:"metaprotocols/README",id:"metaprotocols/README",title:"Metaprotocol Support",description:"The x/metaprotocol module adds support for encoding and decoding additional fields attached to transactions.",source:"@site/docs/metaprotocols/README.md",sourceDirName:"metaprotocols",slug:"/metaprotocols/",permalink:"/metaprotocols/",draft:!1,tags:[],version:"current",frontMatter:{title:"Metaprotocol Support",order:!1,parent:{order:2}},sidebar:"tutorialSidebar",previous:{title:"Interchain Security",permalink:"/interchain-security/"},next:{title:"Changelogs",permalink:"/changelogs/"}},p={},l=[],c={toc:l},d="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(d,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"x/metaprotocol")," module adds support for encoding and decoding additional fields attached to transactions."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"extension_options")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"non_critical_extension_options")," are optional fields that can be used to attach data to valid transactions. The fields are validated by the blockchain, but they are not used in any way. The fields pass validation if they are provided as empty lists (",(0,a.kt)("inlineCode",{parentName:"p"},"[ ]"),") or they use a list of ",(0,a.kt)("inlineCode",{parentName:"p"},"ExtensionData")," types."),(0,a.kt)("p",null,"The application does not use the attached data but it does ensure that the correct type is provided and that it can be successfully unmarshalled. The attached data will be part of a block."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Txs where ",(0,a.kt)("inlineCode",{parentName:"p"},"extension_options")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"non_critical_extension_options")," are populated with a type other than ",(0,a.kt)("inlineCode",{parentName:"p"},"/gaia.metaprotocols.ExtensionData")," are considered invalid and will be rejected.")),(0,a.kt)("p",null,"Here is an example of a correctly formed ",(0,a.kt)("inlineCode",{parentName:"p"},"non_critical_extension_options")," field:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "@type": "/gaia.metaprotocols.ExtensionData", // must be this exact string\n  "protocol_id": "some-protocol",\n  "protocol_version": "1",\n  "data": "<base64 encoded bytes>"\n}\n')),(0,a.kt)("p",null,"Here is an example of a correctly populated ",(0,a.kt)("inlineCode",{parentName:"p"},"non_critical_extension_options")," on a ",(0,a.kt)("inlineCode",{parentName:"p"},"bank.MsgSend")," transaction:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "body": {\n    "messages": [\n      {\n        "@type": "/cosmos.bank.v1beta1.MsgSend",\n        "from_address": "cosmos1ehpqg9sj09037uhe56sqktk30asn47asthyr22",\n        "to_address": "cosmos1ehpqg9sj09037uhe56sqktk30asn47asthyr22",\n        "amount": [\n          {\n            "denom": "uatom",\n            "amount": "100"\n          }\n        ]\n      }\n    ],\n    "memo": "memo_smaller_than_512_bytes",\n    "timeout_height": "0",\n    "extension_options": [],\n    "non_critical_extension_options": [\n      {\n        "@type": "/gaia.metaprotocols.ExtensionData",\n        "protocol_id": "some-protocol",\n        "protocol_version": "1",\n        "data": "<base64 encoded bytes>"\n      }\n    ]\n  },\n  "auth_info": {\n    "signer_infos": [],\n    "fee": {\n      "amount": [],\n      "gas_limit": "200000",\n      "payer": "",\n      "granter": ""\n    },\n    "tip": null\n  },\n  "signatures": []\n}\n')))}u.isMDXComponent=!0}}]);